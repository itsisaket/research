RewriteEngine On
RewriteBase /research/
# ถ้าเป็นไฟล์หรือโฟลเดอร์จริงใน /research ให้ผ่าน (เช่น /research/uploads)
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]
# กันลูป: เริ่มด้วย web/ แล้ว อย่าแตะ ให้ไปจัดการต่อใน web/.htaccess
RewriteRule ^web/ - [L]
# เข้า root /research -> เด้งไป /research/web/ (ใช้ 301 เมื่อชัวร์)
RewriteRule ^$ web/ [L,R=301]
# อะไรที่ไม่ใช่ web/... ให้เด้งไป web/... (เช่น /research/site/index -> /research/web/site/index)
RewriteRule ^(.+)$ web/$1 [L,R=301]
